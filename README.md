# ğŸ“§ AI Email Assistant - Multi-Agent System

**Há»‡ thá»‘ng AI thÃ´ng minh vá»›i 5 agents xá»­ lÃ½ email tá»± Ä‘á»™ng**

> PhÃ¢n loáº¡i â€¢ TÃ³m táº¯t â€¢ ÄÃ¡nh giÃ¡ Ä‘á»™ quan trá»ng â€¢ Gá»£i Ã½ pháº£n há»“i â€¢ Háº¹n giá» gá»­i

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![React](https://img.shields.io/badge/react-18.2.0-blue.svg)](https://reactjs.org/)
[![MongoDB](https://img.shields.io/badge/mongodb-latest-green.svg)](https://www.mongodb.com/)

---

## ğŸ“‘ Má»¥c lá»¥c

- [Tá»•ng quan dá»± Ã¡n](#-tá»•ng-quan-dá»±-Ã¡n)
- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [Kiáº¿n trÃºc há»‡ thá»‘ng](#ï¸-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [CÃ i Ä‘áº·t vÃ  cháº¡y](#-cÃ i-Ä‘áº·t-vÃ -cháº¡y)
- [HÆ°á»›ng dáº«n sá»­ dá»¥ng](#-hÆ°á»›ng-dáº«n-sá»­-dá»¥ng)
- [API Documentation](#-api-documentation)
- [Troubleshooting](#-troubleshooting)

---

## ğŸ¯ Tá»•ng quan dá»± Ã¡n

### Dá»± Ã¡n lÃ  gÃ¬?

AI Email Assistant lÃ  á»©ng dá»¥ng web sá»­ dá»¥ng **kiáº¿n trÃºc Multi-Agent** vá»›i 5 AI agents chuyÃªn biá»‡t Ä‘á»ƒ xá»­ lÃ½ email tá»± Ä‘á»™ng:

1. **ReaderAgent** - Äá»c vÃ  phÃ¢n tÃ­ch cáº¥u trÃºc email
2. **ClassifierAgent** - PhÃ¢n loáº¡i 7 loáº¡i email (Work, Personal, Spam...)
3. **SummarizerAgent** - TÃ³m táº¯t ná»™i dung ngáº¯n gá»n
4. **DecisionAgent** - ÄÃ¡nh giÃ¡ Ä‘á»™ quan trá»ng (0-100 Ä‘iá»ƒm)
5. **ReplyAgent** - Gá»£i Ã½ 3 phiÃªn báº£n pháº£n há»“i

### Thá»‘ng kÃª dá»± Ã¡n

- **ğŸ“ Tá»•ng sá»‘ file**: 40+ files
- **ğŸ“ DÃ²ng code**: 3,500+ lines
- **ğŸ¤– AI Agents**: 5 agents
- **ğŸ”§ Tools**: 3 tools
- **ğŸŒ API Endpoints**: 8 endpoints
- **ğŸ“§ Email categories**: 7 loáº¡i
- **â­ TÃ­nh nÄƒng**: 15+ features
- **â±ï¸ Thá»i gian xá»­ lÃ½**: 2-3s/email

---

## ï¿½ TÃ­nh nÄƒng chÃ­nh

## ğŸŒŸ TÃ­nh nÄƒng chÃ­nh

### Backend Intelligence
- âœ… **7 loáº¡i phÃ¢n loáº¡i**: Work, Personal, Spam, Financial, Newsletter, Support, Announcement
- ğŸ“ **TÃ³m táº¯t thÃ´ng minh**: Key points vÃ  action items tá»± Ä‘á»™ng
- ğŸ“Š **Importance scoring 0-100**: Thuáº­t toÃ¡n 5 yáº¿u tá»‘
- ğŸ’¬ **Gá»£i Ã½ pháº£n há»“i**: 3 phiÃªn báº£n (Brief, Standard, Detailed)
- ğŸ¨ **PhÃ¢n tÃ­ch tone**: Formal, Casual, Urgent, Grateful, Apologetic
- ğŸ” **TrÃ­ch xuáº¥t action items**: Tá»± Ä‘á»™ng tá»« email

### Frontend Experience (v2.0)
- ğŸ¨ **Giao diá»‡n tiáº¿ng Viá»‡t**: Dá»… sá»­ dá»¥ng, hiá»‡n Ä‘áº¡i
- ï¿½ **Inbox management**: Chá»n nhiá»u email, xá»­ lÃ½ hÃ ng loáº¡t
- âœ… **3-step workflow**: Há»™p thÆ° â†’ ÄÃ£ xá»­ lÃ½ â†’ Chi tiáº¿t
- ğŸ“§ **Format email Ä‘áº§y Ä‘á»§**: Äáº¿n/Chá»§ Ä‘á»/Ná»™i dung sáºµn sÃ ng copy
- â° **Háº¹n giá» gá»­i**: Chá»n thá»i gian gá»­i email (UI ready)
- ğŸ” **TÃ¬m kiáº¿m & lá»c**: 7 categories + real-time search
- ğŸ“Š **Thá»‘ng kÃª**: Visual analytics vá»›i biá»ƒu Ä‘á»“
- ğŸ“± **Responsive**: Desktop, tablet, mobile

---

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

### SÆ¡ Ä‘á»“ tá»•ng quan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    NGÆ¯á»œI DÃ™NG (Browser)             â”‚
â”‚    http://localhost:3000            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP/JSON
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FRONTEND - React 18.2.0          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“¥ Há»™p thÆ° (UnprocessedInbox)  â”‚ â”‚
â”‚  â”‚ âœ… ÄÃ£ xá»­ lÃ½ (ProcessedList)    â”‚ â”‚
â”‚  â”‚ ğŸ” Chi tiáº¿t (EmailDetailView)  â”‚ â”‚
â”‚  â”‚ ğŸ“Š Thá»‘ng kÃª (Statistics)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ Axios Requests
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    BACKEND - Flask 3.0              â”‚
â”‚    http://localhost:5000            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ­ EmailCoordinator            â”‚ â”‚
â”‚  â”‚    (Orchestrator)              â”‚ â”‚
â”‚  â””â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚  â”‚  â”‚  â”‚  â”‚                     â”‚
â”‚  â”Œâ”€â–¼â”â”Œâ–¼â”â”Œâ–¼â”â”Œâ–¼â”â”Œâ–¼â”   5 AI AGENTS    â”‚
â”‚  â”‚Râ”‚â”‚Câ”‚â”‚Sâ”‚â”‚Dâ”‚â”‚Râ”‚                    â”‚
â”‚  â”‚eâ”‚â”‚lâ”‚â”‚uâ”‚â”‚eâ”‚â”‚eâ”‚                    â”‚
â”‚  â”‚aâ”‚â”‚aâ”‚â”‚mâ”‚â”‚câ”‚â”‚pâ”‚                    â”‚
â”‚  â”‚dâ”‚â”‚sâ”‚â”‚mâ”‚â”‚iâ”‚â”‚lâ”‚                    â”‚
â”‚  â”‚eâ”‚â”‚sâ”‚â”‚aâ”‚â”‚sâ”‚â”‚yâ”‚                    â”‚
â”‚  â”‚râ”‚â”‚iâ”‚â”‚râ”‚â”‚iâ”‚â”‚ â”‚                    â”‚
â”‚  â”‚ â”‚â”‚fâ”‚â”‚iâ”‚â”‚oâ”‚â”‚ â”‚                    â”‚
â”‚  â”‚ â”‚â”‚iâ”‚â”‚zâ”‚â”‚nâ”‚â”‚ â”‚                    â”‚
â”‚  â”‚ â”‚â”‚eâ”‚â”‚eâ”‚â”‚ â”‚â”‚ â”‚                    â”‚
â”‚  â”‚ â”‚â”‚râ”‚â”‚râ”‚â”‚ â”‚â”‚ â”‚                    â”‚
â”‚  â””â”€â”˜â””â”€â”˜â””â”€â”˜â””â”€â”˜â””â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚   â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Geminiâ”‚            â”‚
    â”‚2.0   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚Flash â”‚     â”‚  MongoDB  â”‚
    â””â”€â”€â”€â”€â”€â”€â”˜     â”‚localhost  â”‚
                 â”‚:27017     â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Luá»“ng xá»­ lÃ½ email (Flow)

```
1. User chá»n email â†’ Click "Xá»­ lÃ½"
         â†“
2. Frontend gá»­i POST request
         â†“
3. Backend nháº­n â†’ EmailCoordinator
         â†“
4. ReaderAgent â†’ Parse email metadata
         â†“
5. ClassifierAgent â†’ PhÃ¢n loáº¡i category
         â†“
6. SummarizerAgent â†’ TÃ³m táº¯t + Key points
         â†“
7. DecisionAgent â†’ TÃ­nh Ä‘iá»ƒm 0-100 + Tone
         â†“
8. ReplyAgent â†’ Táº¡o 3 phiÃªn báº£n reply
         â†“
9. LÆ°u MongoDB
         â†“
10. Tráº£ JSON vá» Frontend
         â†“
11. Hiá»ƒn thá»‹ trong "ÄÃ£ xá»­ lÃ½"
         â†“
12. User xem chi tiáº¿t + Copy/Háº¹n giá»/Gá»­i
```

**â±ï¸ Thá»i gian**: ~2-3 giÃ¢y/email

### CÃ´ng nghá»‡ sá»­ dá»¥ng

#### Backend
| Technology | Version | Purpose |
|------------|---------|---------|
| **Python** | 3.8+ | Core language |
| **Flask** | 3.0.0 | Web framework |
| **Google Generative AI** | 0.8.5 | Gemini API |
| **PyMongo** | 4.6.1 | MongoDB driver |
| **Flask-CORS** | 4.0.0 | Cross-origin requests |

#### Frontend
| Technology | Version | Purpose |
|------------|---------|---------|
| **React** | 18.2.0 | UI framework |
| **Axios** | 1.6.0 | HTTP client |
| **Lucide React** | 0.263.1 | Icon library |

#### AI & Database
- **Google Gemini 2.0 Flash**: AI model
- **MongoDB**: NoSQL database (localhost:27017)

---

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### Prerequisites (YÃªu cáº§u)

- [ ] **Python 3.8+** installed
- [ ] **Node.js 14+** and npm installed
- [ ] **Google Gemini API key** ready
- [ ] **MongoDB** installed (hoáº·c MongoDB Atlas)


### BÆ°á»›c 1: Clone Repository

```powershell
git clone https://github.com/bingbleene/email_ai_agent.git
cd email_ai_agent/my_ai_agent
```

### BÆ°á»›c 2: Backend Setup

#### 2.1 Navigate to Backend Directory
```powershell
cd backend
```

#### 2.2 Create Virtual Environment
```powershell
python -m venv venv

# Activate (Windows PowerShell)
.\venv\Scripts\Activate.ps1

# Activate (macOS/Linux)
source venv/bin/activate
```

#### 2.3 Install Dependencies
```powershell
pip install -r requirements.txt
```

**Packages installed:**
- Flask 3.0.0
- google-generativeai 0.8.5
- pymongo 4.6.1
- flask-cors 4.0.0
- python-dotenv 1.0.0

#### 2.4 Configure Environment

Create `.env` file in `backend/` directory:

```env
# Required - Gemini API Key
GEMINI_API_KEY=AIzaSyBvgG0MpPJg7EMNUOBRXLmTynKQiVX5Tt4

# Optional - MongoDB
MONGODB_URI=mongodb://localhost:27017/
MONGODB_DB=email_assistant

# Optional - Development
FLASK_ENV=development
DEBUG=True
PORT=5000
```

**ğŸ”‘ Get Gemini API key**: https://makersuite.google.com/app/apikey

#### 2.5 Start MongoDB

**Windows:**
```powershell
# Check if MongoDB service is running
services.msc
# â†’ Find "MongoDB Server" â†’ Start
```

**macOS:**
```bash
brew services start mongodb-community
```

**Linux:**
```bash
sudo systemctl start mongod
```

**Or use MongoDB Atlas** (cloud):
```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/email_assistant
```

#### 2.6 Run Backend Server
```powershell
python run.py
```

âœ… Backend running at: **http://localhost:5000**

### BÆ°á»›c 3: Frontend Setup

#### 3.1 Navigate to Frontend (New Terminal)
```powershell
cd frontend
```

#### 3.2 Install Dependencies
```powershell
npm install
```

**Packages installed:**
- React 18.2.0
- Axios 1.6.0
- Lucide React 0.263.1
- React Scripts 5.0.1

#### 3.3 Verify Environment File
Ensure `.env` exists in `frontend/` with:
```env
REACT_APP_API_URL=http://localhost:5000/api/v1
```

#### 3.4 Start Frontend Server
```powershell
npm start
```

âœ… Frontend opens at: **http://localhost:3000**

### BÆ°á»›c 4: Verify Installation

#### Backend Health Check
Open browser: **http://localhost:5000/health**

Expected response:
```json
{
  "status": "healthy",
  "database": "connected",
  "ai_service": "gemini-2.0-flash",
  "timestamp": "2025-10-26T10:30:00"
}
```

#### Frontend Check
Open **http://localhost:3000** and verify:
- ğŸ¨ Giao diá»‡n tiáº¿ng Viá»‡t
- ğŸ“¥ Tab "Há»™p thÆ°" vá»›i 17 email máº«u
- âœ… Tab "ÄÃ£ xá»­ lÃ½"
- ğŸ“Š Tab "Thá»‘ng kÃª"
- ğŸŸ¢ Green health indicator

---

## ğŸ“– HÆ°á»›ng dáº«n sá»­ dá»¥ng

### ğŸ® Workflow 3 bÆ°á»›c

```
BÆ¯á»šC 1: Há»™p thÆ° Ä‘áº¿n
  â†“ Chá»n email (checkbox)
  â†“ Click "Xá»­ lÃ½ email Ä‘Ã£ chá»n"
  
BÆ¯á»šC 2: AI xá»­ lÃ½ (2-3s/email)
  â†“ PhÃ¢n loáº¡i
  â†“ TÃ³m táº¯t
  â†“ ÄÃ¡nh giÃ¡
  â†“ Gá»£i Ã½ reply
  
BÆ¯á»šC 3: Xem káº¿t quáº£
  â†“ Tab "ÄÃ£ xá»­ lÃ½"
  â†“ Lá»c theo category
  â†“ Xem chi tiáº¿t
  â†“ Copy/Háº¹n giá»/Gá»­i
```

### ğŸ“¥ 1. Há»™p thÆ° Ä‘áº¿n (Inbox)

**MÃ n hÃ¬nh hiá»ƒn thá»‹:**
- 17 email máº«u tiáº¿ng Viá»‡t cÃ³ sáºµn
- Báº£ng vá»›i: Checkbox, NgÆ°á»i gá»­i, TiÃªu Ä‘á», Ná»™i dung, Thá»i gian

**Chá»©c nÄƒng:**

#### âœ… Chá»n email
- Click **báº¥t ká»³ Ä‘Ã¢u** trÃªn hÃ ng Ä‘á»ƒ chá»n/bá» chá»n
- Click **checkbox** riÃªng láº»
- Click **"Chá»n táº¥t cáº£"** Ä‘á»ƒ chá»n toÃ n bá»™

#### ğŸ”„ Xá»­ lÃ½ email
1. Chá»n 1 hoáº·c nhiá»u email
2. Click nÃºt **"Xá»­ lÃ½ email Ä‘Ã£ chá»n"** (mÃ u tÃ­m)
3. Popup **"Äang xá»­ lÃ½ email..."** hiá»‡n ra
4. AI xá»­ lÃ½ tuáº§n tá»± (delay 500ms giá»¯a má»—i email)
5. ThÃ´ng bÃ¡o **"ÄÃ£ xá»­ lÃ½ thÃ nh cÃ´ng X/Y email!"**
6. Tá»± Ä‘á»™ng chuyá»ƒn sang tab **"ÄÃ£ xá»­ lÃ½"**

#### ğŸ”„ LÃ m má»›i
- Click **"LÃ m má»›i"** Ä‘á»ƒ reload danh sÃ¡ch

### âœ… 2. Danh sÃ¡ch Ä‘Ã£ xá»­ lÃ½

**MÃ n hÃ¬nh hiá»ƒn thá»‹:**
- Hiá»ƒn thá»‹ dáº¡ng **card grid**
- Má»—i card hiá»ƒn thá»‹: Category badge, TÃ³m táº¯t, Äá»™ quan trá»ng, Thá»i gian

**Chá»©c nÄƒng:**

#### ğŸ” Lá»c theo category
Click vÃ o chip mÃ u:
- ğŸ”µ **CÃ´ng viá»‡c** (Work) - #1976d2
- ğŸŸ£ **CÃ¡ nhÃ¢n** (Personal) - #7b1fa2
- ğŸŸ  **ThÃ´ng bÃ¡o** (Newsletter) - #f57c00
- ğŸ”´ **Spam** - #c62828
- ğŸŸ¢ **TÃ i chÃ­nh** (Financial) - #2e7d32
- ğŸ”´ **Há»— trá»£** (Support) - #c2185b
- ğŸŸ¡ **CÃ´ng bá»‘** (Announcement) - #00695c
- âš« **Táº¥t cáº£** - Hiá»ƒn thá»‹ táº¥t cáº£

#### ğŸ” TÃ¬m kiáº¿m
- GÃµ tá»« khÃ³a vÃ o Ã´ search
- TÃ¬m trong: ngÆ°á»i gá»­i, tiÃªu Ä‘á», tÃ³m táº¯t
- Káº¿t quáº£ lá»c real-time

#### ğŸ‘ï¸ Xem chi tiáº¿t
- Click **"Xem chi tiáº¿t"** trÃªn card
- Chuyá»ƒn sang mÃ n hÃ¬nh chi tiáº¿t email

### ğŸ” 3. Chi tiáº¿t email

**Card 1: ThÃ´ng tin email**
- TiÃªu Ä‘á» Ä‘áº§y Ä‘á»§
- Category badge mÃ u
- NgÆ°á»i gá»­i
- Thá»i gian nháº­n & xá»­ lÃ½
- Tráº¡ng thÃ¡i "ÄÃ£ xá»­ lÃ½"

**Card 2: TÃ³m táº¯t ná»™i dung**
- Summary text (AI-generated)
- Thanh Ä‘á»™ quan trá»ng (0-100)
  - 80-100: ğŸ”´ Critical
  - 60-79: ğŸŸ  High
  - 40-59: ğŸŸ¡ Medium
  - 0-39: ğŸŸ¢ Low

**Card 3: Pháº£n há»“i gá»£i Ã½** â­

Format email Ä‘áº§y Ä‘á»§ sáºµn sÃ ng copy:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Äáº¿n: sender@example.com         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chá»§ Ä‘á»: Re: Email gá»‘c           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ [Ná»™i dung pháº£n há»“i AI táº¡o]      â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3 nÃºt thao tÃ¡c:**

1. **ğŸ“‹ Sao chÃ©p email** (mÃ u xÃ¡m)
   - Copy toÃ n bá»™: Äáº¿n + Chá»§ Ä‘á» + Ná»™i dung
   - DÃ¡n trá»±c tiáº¿p vÃ o Gmail/Outlook

2. **â° Háº¹n giá» gá»­i** (mÃ u vÃ ng)
   - Má»Ÿ popup chá»n ngÃ y & giá»
   - Email tá»± Ä‘á»™ng gá»­i vÃ o thá»i gian Ä‘Ã£ háº¹n
   - *(Backend Ä‘ang phÃ¡t triá»ƒn)*

3. **ğŸ“¨ Gá»­i ngay** (mÃ u tÃ­m)
   - Gá»­i email tá»©c thÃ¬
   - *(Backend Ä‘ang phÃ¡t triá»ƒn)*

**Card 4: Ná»™i dung gá»‘c** (thu gá»n/má»Ÿ rá»™ng)
- Click Ä‘á»ƒ xem email nguyÃªn báº£n
- Max-height 400px vá»›i scrollbar

**Card 5: ThÃ´ng tin bá»• sung** (náº¿u cÃ³)
- Giá»ng Ä‘iá»‡u (tone)
- Cáº£m xÃºc (sentiment)
- Äiá»ƒm chÃ­nh (key_points)
- Action items

### ğŸ“Š 4. Thá»‘ng kÃª

- Tá»•ng sá»‘ email Ä‘Ã£ xá»­ lÃ½
- PhÃ¢n bá»‘ theo category
- Sá»‘ lÆ°á»£ng theo Ä‘á»™ quan trá»ng
- Biá»ƒu Ä‘á»“ visual

---

## ğŸ“¡ API Documentation

## ğŸ“¡ API Documentation

### Base URL
```
http://localhost:5000/api/v1
```

### Endpoints

#### 1. Health Check
```http
GET /health
```

**Response:**
```json
{
  "status": "healthy",
  "database": "connected",
  "ai_service": "gemini-2.0-flash",
  "timestamp": "2025-10-26T10:30:00Z"
}
```

#### 2. Process Single Email
```http
POST /email/process
Content-Type: application/json
```

**Request Body:**
```json
{
  "user_id": "user_123",
  "sender": "boss@company.com",
  "subject": "URGENT: Project deadline",
  "body": "We need to finish this ASAP. Meeting tomorrow at 9am."
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "email_id": "67890abc",
    "user_id": "user_123",
    "sender": "boss@company.com",
    "subject": "URGENT: Project deadline",
    "category": "Work",
    "importance_score": 85,
    "is_important": true,
    "summary": "Boss requests urgent project completion with meeting scheduled.",
    "key_points": [
      "Urgent project deadline",
      "Meeting tomorrow 9am",
      "Needs immediate action"
    ],
    "action_items": [
      "Prepare for meeting",
      "Complete pending tasks"
    ],
    "tone": "urgent",
    "suggested_actions": ["reply_asap", "flag", "calendar"],
    "suggested_reply": {
      "brief": "Understood. I'll prioritize this and attend the meeting.",
      "standard": "Thank you for the heads up. I'll make this my top priority...",
      "detailed": "Dear [Boss], Thank you for bringing this to my attention..."
    },
    "processed_at": "2025-10-26T10:35:00Z"
  }
}
```

#### 3. Batch Process
```http
POST /email/batch
Content-Type: application/json
```

**Request Body:**
```json
{
  "user_id": "user_123",
  "emails": [
    {"sender": "...", "subject": "...", "body": "..."},
    {"sender": "...", "subject": "...", "body": "..."}
  ]
}
```

#### 4. Get All Emails
```http
GET /emails?user_id=user_123&category=Work&is_important=true
```

**Query Parameters:**
- `user_id` (required): User identifier
- `category` (optional): Work, Personal, Spam, etc.
- `is_important` (optional): true/false

#### 5. Get Email by ID
```http
GET /emails/<email_id>?user_id=user_123
```

#### 6. Delete Email
```http
DELETE /emails/<email_id>?user_id=user_123
```

#### 7. Get Statistics
```http
GET /stats?user_id=user_123
```

**Response:**
```json
{
  "success": true,
  "data": {
    "total": 150,
    "important": 25,
    "by_category": {
      "Work": 80,
      "Personal": 40,
      "Newsletter": 20,
      "Spam": 10
    },
    "by_importance": {
      "critical": 15,
      "high": 35,
      "medium": 60,
      "low": 40
    }
  }
}
```

### Rate Limiting
- **Processing**: 10 requests/minute
- **Queries**: 20 requests/minute
- **Daily**: 100 processing requests

---

## ğŸ’¡ Máº¹o sá»­ dá»¥ng

### ğŸ¯ Workflow hiá»‡u quáº£
1. **Xá»­ lÃ½ hÃ ng loáº¡t**: Chá»n 5-10 email/láº§n cho tá»‘i Æ°u
2. **Æ¯u tiÃªn quan trá»ng**: Lá»c email Critical/High trÆ°á»›c
3. **DÃ¹ng tÃ¬m kiáº¿m**: TÃ¬m nhanh theo tá»« khÃ³a
4. **Copy format Ä‘áº§y Ä‘á»§**: DÃ¡n trá»±c tiáº¿p vÃ o Gmail/Outlook
5. **Háº¹n giá» thÃ´ng minh**: Email cÃ´ng viá»‡c gá»­i giá» hÃ nh chÃ­nh

### ğŸ“§ Email máº«u
Há»‡ thá»‘ng cÃ³ sáºµn **17 email máº«u tiáº¿ng Viá»‡t** Ä‘á»ƒ test:
- Email cÃ´ng viá»‡c kháº©n cáº¥p
- Email cÃ¡ nhÃ¢n háº¹n cafe
- Newsletter cÃ´ng nghá»‡
- ThÃ´ng bÃ¡o thanh toÃ¡n
- ÄÆ¡n hÃ ng Ä‘ang giao
- Má»i phá»ng váº¥n
- Flash sale
- Cáº£nh bÃ¡o báº£o máº­t
- Gáº·p máº·t cá»±u sinh viÃªn
- Chá»©ng chá»‰ online
- Spam lottery
- Há»p sprint review
- Káº¿t quáº£ xÃ©t nghiá»‡m
- Sá»± kiá»‡n Google Cloud
- Review code
- **Äá» xuáº¥t há»£p tÃ¡c** (email dÃ i ~600 tá»«)
- **Pháº£n há»“i Ä‘á»“ Ã¡n** (email dÃ i ~800 tá»«)

---

## ğŸ”§ Troubleshooting

### âŒ Backend khÃ´ng cháº¡y

**Problem**: `GEMINI_API_KEY not found`
```powershell
# Check .env file exists in backend/
# Add API key:
GEMINI_API_KEY=AIzaSyBvgG0MpPJg7EMNUOBRXLmTynKQiVX5Tt4
```

**Problem**: `MongoDB connection failed`
```powershell
# Windows: Check Services
services.msc â†’ MongoDB Server â†’ Start

# macOS:
brew services start mongodb-community

# Linux:
sudo systemctl start mongod

# Or use MongoDB Atlas (cloud)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/
```

**Problem**: `Module not found`
```powershell
# Reinstall dependencies
pip install -r requirements.txt
```

### âŒ Frontend lá»—i

**Problem**: `npm start` fails
```powershell
# Clear cache and reinstall
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

**Problem**: API connection error
```powershell
# Check backend is running at localhost:5000
# Check .env has correct API_URL
REACT_APP_API_URL=http://localhost:5000/api/v1
```

### âŒ Lá»—i xá»­ lÃ½ email

**Problem**: "Vui lÃ²ng chá»n Ã­t nháº¥t má»™t email"
- Báº¡n chÆ°a chá»n email nÃ o báº±ng checkbox

**Problem**: "Lá»—i khi xá»­ lÃ½ email"
- Kiá»ƒm tra backend terminal xem cÃ³ lá»—i Python
- Kiá»ƒm tra MongoDB Ä‘Ã£ cháº¡y
- Kiá»ƒm tra Gemini API key valid

**Problem**: Xá»­ lÃ½ cháº­m
- BÃ¬nh thÆ°á»ng: 2-3 giÃ¢y/email
- Email dÃ i (>500 tá»«): 4-5 giÃ¢y
- Batch nhiá»u email: CÃ³ delay 500ms giá»¯a má»—i email

**Problem**: Pháº£n há»“i khÃ´ng hiá»‡n
- Má»Ÿ browser console (F12)
- Xem log `ğŸ“§ Email Detail Data`
- Náº¿u khÃ´ng cÃ³ `suggested_reply`, sáº½ hiá»ƒn thá»‹ template máº·c Ä‘á»‹nh

### âŒ UI bá»‹ khuáº¥t

**Problem**: Table headers hidden
- âœ… **ÄÃƒ FIX**: Báº£ng giá» cÃ³ scroll ngang
- Headers cá»‘ Ä‘á»‹nh khi scroll (position: sticky)

**Problem**: Buttons khÃ´ng tháº¥y
- Scroll xuá»‘ng pháº§n "Pháº£n há»“i gá»£i Ã½"
- 3 nÃºt mÃ u xÃ¡m/vÃ ng/tÃ­m pháº£i hiá»ƒn thá»‹

---

## ï¿½ Importance Scoring Algorithm

### 5 yáº¿u tá»‘ tÃ­nh Ä‘iá»ƒm (Tá»•ng 100 Ä‘iá»ƒm)

#### 1. Category Weight (30 Ä‘iá»ƒm)
- Work/Financial: 25-30 Ä‘iá»ƒm
- Personal: 15-20 Ä‘iá»ƒm
- Newsletter: 10-15 Ä‘iá»ƒm
- Spam: 0-5 Ä‘iá»ƒm

#### 2. Sender Weight (25 Ä‘iá»ƒm)
- Boss/Official: 25 Ä‘iá»ƒm
- Known contacts: 15 Ä‘iá»ƒm
- Unknown: 5 Ä‘iá»ƒm

#### 3. Subject Keywords (20 Ä‘iá»ƒm)
- "URGENT", "ASAP", "KHáº¨N": 20 Ä‘iá»ƒm
- "Important", "Action Required": 15 Ä‘iá»ƒm
- Normal: 10 Ä‘iá»ƒm

#### 4. Body Content (15 Ä‘iá»ƒm)
- Has action items: 15 Ä‘iá»ƒm
- Has questions: 12 Ä‘iá»ƒm
- Normal: 8 Ä‘iá»ƒm

#### 5. Metadata (10 Ä‘iá»ƒm)
- Has phone number: +5 Ä‘iá»ƒm
- Has links: +3 Ä‘iá»ƒm
- Word count >200: +2 Ä‘iá»ƒm

### Thang Ä‘iá»ƒm cuá»‘i

- **80-100**: ğŸ”´ **Critical** - Xá»­ lÃ½ ngay
- **60-79**: ğŸŸ  **High** - Quan trá»ng
- **40-59**: ğŸŸ¡ **Medium** - Trung bÃ¬nh
- **0-39**: ğŸŸ¢ **Low** - KhÃ´ng kháº©n

---

## ğŸ­ Tone Detection

### Tones há»— trá»£

- **Formal**: Professional, business
- **Casual**: Friendly, informal
- **Urgent**: Time-sensitive, kháº©n cáº¥p
- **Grateful**: Expressing thanks
- **Apologetic**: Expressing sorry
- **Inquisitive**: Asking questions
- **Positive/Negative**: Sentiment analysis

---

## ï¿½ Cáº¥u trÃºc dá»± Ã¡n

```
my_ai_agent/
â”œâ”€â”€ backend/                    # Python Flask backend
â”‚   â”œâ”€â”€ agents/                 # 5 AI Agents
â”‚   â”‚   â”œâ”€â”€ email_coordinator.py  # Orchestrator
â”‚   â”‚   â”œâ”€â”€ reader_agent.py    # Parse email
â”‚   â”‚   â”œâ”€â”€ classifier_agent.py  # Categorize
â”‚   â”‚   â”œâ”€â”€ summarizer_agent.py  # Summarize
â”‚   â”‚   â”œâ”€â”€ decision_agent.py  # Score importance
â”‚   â”‚   â””â”€â”€ reply_agent.py     # Generate replies
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/                  # Support tools
â”‚   â”‚   â”œâ”€â”€ email_parser.py
â”‚   â”‚   â”œâ”€â”€ importance_scorer.py
â”‚   â”‚   â””â”€â”€ tone_analyzer.py
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                  # Utilities
â”‚   â”‚   â”œâ”€â”€ gemini_client.py   # Gemini API wrapper
â”‚   â”‚   â”œâ”€â”€ db.py              # MongoDB operations
â”‚   â”‚   â””â”€â”€ rate_limiter.py
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                   # Config data
â”‚   â”‚   â”œâ”€â”€ email_categories.json
â”‚   â”‚   â””â”€â”€ tone_templates.json
â”‚   â”‚
â”‚   â”œâ”€â”€ app.py                  # Flask app (8 endpoints)
â”‚   â”œâ”€â”€ run.py                  # Entry point
â”‚   â””â”€â”€ requirements.txt        # Python deps
â”‚
â”œâ”€â”€ frontend/                   # React frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ UnprocessedInbox.js   # Inbox table
â”‚   â”‚   â”‚   â”œâ”€â”€ ProcessedList.js      # Processed grid
â”‚   â”‚   â”‚   â”œâ”€â”€ EmailDetailView.js    # Detail view
â”‚   â”‚   â”‚   â””â”€â”€ Statistics.js         # Analytics
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.js          # Axios client
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ styles/             # CSS files
â”‚   â”‚   â”œâ”€â”€ App.js              # Main component
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json            # Node deps
â”‚
â”œâ”€â”€ README.md                   # This file (all-in-one guide)
â”œâ”€â”€ HUONG_DAN_SU_DUNG.md       # Detailed usage guide
â”œâ”€â”€ SETUP_GUIDE.md             # Detailed setup guide
â”œâ”€â”€ TOM_TAT_DU_AN.md           # Project summary
â”œâ”€â”€ ARCHITECTURE.md            # System architecture
â””â”€â”€ LICENSE                    # Apache 2.0
```

---

## ğŸš€ Roadmap & Future Features

### âœ… ÄÃ£ hoÃ n thÃ nh (v2.0)
- Multi-agent system vá»›i 5 agents
- 17 email máº«u tiáº¿ng Viá»‡t
- UI hoÃ n toÃ n tiáº¿ng Viá»‡t
- Batch processing
- Format reply Ä‘áº§y Ä‘á»§ (Äáº¿n/Chá»§ Ä‘á»/Ná»™i dung)
- 3 action buttons (Copy/Schedule/Send)
- Modal háº¹n giá» gá»­i (UI)
- Fix scroll table
- Responsive design
- Search & filter (7 categories)
- Statistics dashboard

### ï¿½ Äang phÃ¡t triá»ƒn
- [ ] Backend háº¹n giá» gá»­i (scheduler integration)
- [ ] Backend gá»­i email trá»±c tiáº¿p (SMTP/Gmail API)
- [ ] Form validation cho schedule modal

### ğŸ“‹ Káº¿ hoáº¡ch tÆ°Æ¡ng lai
- [ ] Gmail/Outlook API integration
- [ ] Email threading & conversations
- [ ] Attachment handling (PDF, images)
- [ ] Calendar integration (Google Calendar)
- [ ] Email templates library
- [ ] Multi-language support
- [ ] Voice-to-email transcription
- [ ] Smart notifications
- [ ] Team collaboration features
- [ ] Fine-tuned models cho specific industries
- [ ] Phishing detection
- [ ] Auto-forwarding rules

---

## ğŸ’» Tech Stack Summary

| Layer | Technology | Version |
|-------|-----------|---------|
| **Frontend** | React | 18.2.0 |
| | Axios | 1.6.0 |
| | Lucide React | 0.263.1 |
| **Backend** | Flask | 3.0.0 |
| | Python | 3.8+ |
| **AI** | Google Gemini | 2.0 Flash |
| | google-generativeai | 0.8.5 |
| **Database** | MongoDB | Latest |
| | PyMongo | 4.6.1 |
| **Others** | Flask-CORS | 4.0.0 |

---

## ğŸ“ Changelog

### Version 2.0 (October 2025) - Current
- âœ… Complete Vietnamese localization
- âœ… Redesigned UI with inbox workflow
- âœ… 17 Vietnamese email samples (including 2 long ones)
- âœ… Email format reply (To/Subject/Body)
- âœ… 3 action buttons with distinct functions
- âœ… Schedule send modal UI
- âœ… Fixed table scrolling issues
- âœ… Cleaned up duplicate documentation

### Version 1.0 (January 2024)
- Initial release with 5 AI agents
- English UI
- 5 email samples
- Basic processing workflow

---

## ğŸ‘¨â€ğŸ’» Contributing

Contributions welcome! Areas to focus:
- Adding new AI agents
- Improving importance scoring
- Enhancing UI/UX
- Writing tests
- Documentation improvements
- Performance optimization

---

## ğŸ“„ License

This project is licensed under the **Apache License 2.0** - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **Google Gemini AI**: AI model integration
- **MongoDB**: Database platform
- **React**: Frontend framework
- **Flask**: Backend framework
- **Lucide**: Icon library

---

## ï¿½ Support & Contact

**Gáº·p váº¥n Ä‘á»?**
1. Check [Troubleshooting](#-troubleshooting) section
2. Review `HUONG_DAN_SU_DUNG.md` for detailed usage
3. Check `SETUP_GUIDE.md` for installation issues
4. Read `TOM_TAT_DU_AN.md` for project overview
5. See `ARCHITECTURE.md` for system design

**TÃ i liá»‡u:**
- ğŸ“˜ README.md - Tá»•ng quan Ä‘áº§y Ä‘á»§ (file nÃ y)
- ğŸ“— TOM_TAT_DU_AN.md - TÃ³m táº¯t chi tiáº¿t + flow hoáº¡t Ä‘á»™ng
- ğŸ“™ HUONG_DAN_SU_DUNG.md - HÆ°á»›ng dáº«n sá»­ dá»¥ng v2.0
- ğŸ“• SETUP_GUIDE.md - HÆ°á»›ng dáº«n cÃ i Ä‘áº·t chi tiáº¿t
- ğŸ“” ARCHITECTURE.md - Kiáº¿n trÃºc há»‡ thá»‘ng

---

<div align="center">

**ğŸ‰ Built with â¤ï¸ using AI and Modern Web Technologies**

**Version 2.0 - October 2025**

[![Star this repo](https://img.shields.io/github/stars/bingbleene/email_ai_agent?style=social)](https://github.com/bingbleene/email_ai_agent)

**Happy Email Processing! ğŸ“§âœ¨**

</div>
